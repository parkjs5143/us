{"ast":null,"code":"var _jsxFileName = \"C:\\\\project\\\\us\\\\frontend\\\\src\\\\admin\\\\postPage.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Header from \"../AdminComponents/header\";\nimport SideBar from \"../AdminComponents/sidebar\";\nimport styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\nimport '../../src/admin.css';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PostForm = styled.div`\n    overflow-x: hidden;\n    margin-left: 24rem;\n    ul { list-style:none; display: flex; }\n    ul li { padding: 0.6rem; font-size: 1.8rem; background-color: none; color: #888; cursor: pointer; font-weight: bold; }\n    .title { border-radius: 10px; font-size: 1.5rem; font-weight: bold; color: #14c1c7; }\n    .postListBox{ background-color: white; margin: 13rem auto 10rem; width: 112rem; border-radius: 20px; padding: 1.5rem 4rem; box-shadow: 5px 5px 5px 5px rgb(210, 210, 210); }\n    .postSearchBox{ display: flex; font-size:1.5rem; margin-top: 2rem; width: 100%; justify-content: end; margin-bottom:2rem; }\n    .postSearchBox p{ margin: 0 1rem; display: flex; align-items: center; }\n    .btn{ padding: 0.4rem 1.2rem }\n    .searchBtn{ background-color: #14c1c7; border: 1px solid white; color: white; width: 7rem; height: 3.5rem; border-radius: 5px; box-shadow: 2px 2px 2px 2px rgb(210,210,210); margin-left: 1.5rem; font-size: 1.3rem; }\n    .resetBtn{ background-color: white; border: 1px solid #14c1c7; color: #14c1c7; width: 7rem; height: 3.5rem; border-radius: 5px; box-shadow: 2px 2px 2px 2px rgb(210,210,210); margin-left: 1rem; font-size: 1.3rem; }\n    select{ width:12rem; margin-right:1rem; border: 1px solid #14c1c7; border-radius: 5px; box-shadow: 2px 2px 2px 2px rgb(210,210,210); }\n    select:focus, .postDate:focus{outline:none;}\n    .postDate{ border: 1px solid #14c1c7; border-radius: 5px; box-shadow: 2px 2px 2px 2px rgb(210,210,210); }\n    .postContent{ width:45%; }\n    .postContent a{ text-decoration: none; color: black; }\n    .postContent a:hover{ font-size: 1.45rem; color: #14c1c7; font-weight: bolder; }\n    .postRegist{ width:20%; }\n    .postDateText{ width:20%; }\n    .postDec{ width:15%; }\n    table { text-align: center; width: 100%; margin-top: 10px; border-collapse: collapse; border: 2px solid #9b9b9b; font-size:1.4rem }\n    table th, table td { border: 1px solid #9b9b9b; height: 3.8rem; }\n    table th { background-color: rgb(248, 250, 252); }\n    .nonData { height: 10rem; color: #999; font-size: 1.4rem;  }\n`;\n_c = PostForm;\nconst Form = styled.div` background-color: rgb(248, 250, 252); height: 100%; position: fixed; width: 100%; overflow-y: auto;`;\n_c2 = Form;\n\nconst PostPage = () => {\n  _s();\n\n  const [listAxios, setAxios] = useState(0); // useEffect axios의 값 존재 여부 저장\n\n  let [post, setPost] = useState([]);\n  let [pageNum, setPageNum] = useState(1);\n  let [change, setChange] = useState(1);\n  let [search, setSearch] = useState('');\n  let [dateStart, setDateStart] = useState('');\n  let [dateEnd, setDateEnd] = useState('');\n  let pages = [];\n\n  const Pagination = page => {\n    setPageNum(page);\n\n    if (change == 1) {\n      setChange(0);\n    } else {\n      setChange(1);\n    }\n  }; // useEffect 재실행을 위해 change값을 변경\n\n\n  const PaginationNum = e => {\n    let pageNum = e.target.id;\n    Pagination(pageNum);\n  };\n\n  const PaginationArr = e => {\n    let pageArr = e.target.value;\n    Pagination(pageArr);\n  };\n\n  const Start = e => {\n    e.preventDefault();\n    const dateStart = e.target.value;\n    setDateStart(dateStart);\n  };\n\n  const End = e => {\n    e.preventDefault();\n    const dateEnd = e.target.value;\n    setDateEnd(dateEnd);\n  };\n\n  const searchSelect = e => {\n    e.preventDefault();\n    const searchSelect = e.target.value;\n    setSearch(searchSelect);\n  };\n\n  const Search = () => {\n    setPageNum(1);\n\n    if (change == 1) {\n      setChange(0);\n    } else {\n      setChange(1);\n    } // useEffect 재실행을 위해 change값을 변경\n\n  };\n\n  const Reset = () => {\n    setSearch('');\n    setDateStart('');\n    setDateEnd('');\n    let e1 = document.getElementById('startDate');\n    let e2 = document.getElementById('endDate');\n    let e3 = document.getElementById('report');\n    e1.value = '';\n    e2.value = '';\n    e3.value = '전체';\n    Search();\n  };\n\n  useEffect(async () => {\n    const post = await axios.get(\"http://localhost:3001/admin/post?page=\" + pageNum + \"&report=\" + search + \"&date1=\" + dateStart + \"&date2=\" + dateEnd);\n    setPost(post.data);\n    let paginationClass = document.querySelectorAll('.paginationClass');\n\n    if (post.data.totalPage !== 0) {\n      for (let i = 0; i < paginationClass.length; i++) {\n        paginationClass[i].style.color = \"#888\";\n      }\n\n      let current = document.getElementById(pageNum);\n      current.style.color = \"#14c1c7\";\n    }\n\n    if (post.data.result.length !== 0) {\n      setAxios(1);\n    } // axios의 값 존재 여부 저장\n\n  }, [change]);\n\n  for (let i = post.startPage; i <= post.endPage; i++) {\n    pages[i] = i;\n  }\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SideBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PostForm, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"postListBox\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"title\",\n          children: \"\\uAC8C\\uC2DC\\uBB3C\\uAD00\\uB9AC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"postSearchBox\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uAD6C\\uBD84\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"report\",\n            onChange: searchSelect,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"\\uC804\\uCCB4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Y\",\n              children: \"\\uC2E0\\uACE0\\uC5EC\\uBD80 : Y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"N\",\n              children: \"\\uC2E0\\uACE0\\uC5EC\\uBD80 : N\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uB0A0\\uC9DC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            className: \"postDate\",\n            id: \"startDate\",\n            onChange: Start\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"~\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            className: \"postDate\",\n            id: \"endDate\",\n            onChange: End\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"button\",\n            className: \"searchBtn btn\",\n            value: \"\\uAC80\\uC0C9\",\n            onClick: Search\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"button\",\n            className: \"resetBtn btn\",\n            value: \"\\uCD08\\uAE30\\uD654\",\n            onClick: Reset\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"postRegist\",\n                children: \"\\uC791\\uC131\\uC790\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"postContent\",\n                children: \"\\uAC8C\\uC2DC\\uBB3C \\uB0B4\\uC6A9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"postDateText\",\n                children: \"\\uAC8C\\uC2DC\\uBB3C \\uC0DD\\uC131 \\uB0A0\\uC9DC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"postDec\",\n                children: \"\\uAC8C\\uC2DC\\uBB3C \\uC2E0\\uACE0 \\uC5EC\\uBD80\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 29\n            }, this), listAxios !== 0 ? post.result.length !== 0 ? post.result.map(rowData => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"postRegist\",\n                children: rowData.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"postContent\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/admin/post/detail/\" + rowData.idx,\n                  children: rowData.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 73\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"postDateText\",\n                children: rowData.createdAt\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"postDec\",\n                children: rowData.report\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 41\n            }, this)) :\n            /*#__PURE__*/\n            // rowData 가 없으면 나타냄\n            _jsxDEV(\"tr\", {\n              className: \"nonData\",\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"4\",\n                children: \"\\uAC80\\uC0C9\\uACB0\\uACFC\\uAC00 \\uC874\\uC7AC\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 61\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 37\n            }, this) :\n            /*#__PURE__*/\n            // post의 데이터가 없으면 나타냄\n            _jsxDEV(\"tr\", {\n              className: \"nonData\",\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"4\",\n                children: \"\\uC791\\uC131\\uB41C \\uAC8C\\uC2DC\\uBB3C\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 57\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pagination\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [post.startPage !== 1 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                onClick: PaginationArr,\n                value: \"1\",\n                children: \"\\u300A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                onClick: PaginationArr,\n                value: post.startPage - 1,\n                children: \"\\u3008\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) // startPage가 1이면 나타냄\n            , post.totalPage !== 0 ? pages.map(rowData => post.startPage + 5 > rowData ? /*#__PURE__*/_jsxDEV(\"li\", {\n              onClick: PaginationNum,\n              class: \"paginationClass\",\n              id: rowData,\n              children: rowData\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) // pages가 없으면 나타냄\n            , post.endPage !== post.totalPage && post.endPage < post.totalPage ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                onClick: PaginationArr,\n                value: post.endPage + 1,\n                children: \"\\u3009\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                onClick: PaginationArr,\n                value: post.totalPage,\n                children: \"\\u300B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 9\n  }, this);\n};\n\n_s(PostPage, \"fYLkN3OW+W1/BFSmP/tQbY5QgAY=\");\n\n_c3 = PostPage;\nexport default PostPage;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"PostForm\");\n$RefreshReg$(_c2, \"Form\");\n$RefreshReg$(_c3, \"PostPage\");","map":{"version":3,"sources":["C:/project/us/frontend/src/admin/postPage.jsx"],"names":["React","useEffect","useState","Header","SideBar","styled","Link","axios","PostForm","div","Form","PostPage","listAxios","setAxios","post","setPost","pageNum","setPageNum","change","setChange","search","setSearch","dateStart","setDateStart","dateEnd","setDateEnd","pages","Pagination","page","PaginationNum","e","target","id","PaginationArr","pageArr","value","Start","preventDefault","End","searchSelect","Search","Reset","e1","document","getElementById","e2","e3","get","data","paginationClass","querySelectorAll","totalPage","i","length","style","color","current","result","startPage","endPage","map","rowData","name","idx","content","createdAt","report"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Header from \"../AdminComponents/header\";\r\nimport SideBar from \"../AdminComponents/sidebar\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport '../../src/admin.css';\r\nimport axios from \"axios\";\r\n\r\nconst PostForm = styled.div`\r\n    overflow-x: hidden;\r\n    margin-left: 24rem;\r\n    ul { list-style:none; display: flex; }\r\n    ul li { padding: 0.6rem; font-size: 1.8rem; background-color: none; color: #888; cursor: pointer; font-weight: bold; }\r\n    .title { border-radius: 10px; font-size: 1.5rem; font-weight: bold; color: #14c1c7; }\r\n    .postListBox{ background-color: white; margin: 13rem auto 10rem; width: 112rem; border-radius: 20px; padding: 1.5rem 4rem; box-shadow: 5px 5px 5px 5px rgb(210, 210, 210); }\r\n    .postSearchBox{ display: flex; font-size:1.5rem; margin-top: 2rem; width: 100%; justify-content: end; margin-bottom:2rem; }\r\n    .postSearchBox p{ margin: 0 1rem; display: flex; align-items: center; }\r\n    .btn{ padding: 0.4rem 1.2rem }\r\n    .searchBtn{ background-color: #14c1c7; border: 1px solid white; color: white; width: 7rem; height: 3.5rem; border-radius: 5px; box-shadow: 2px 2px 2px 2px rgb(210,210,210); margin-left: 1.5rem; font-size: 1.3rem; }\r\n    .resetBtn{ background-color: white; border: 1px solid #14c1c7; color: #14c1c7; width: 7rem; height: 3.5rem; border-radius: 5px; box-shadow: 2px 2px 2px 2px rgb(210,210,210); margin-left: 1rem; font-size: 1.3rem; }\r\n    select{ width:12rem; margin-right:1rem; border: 1px solid #14c1c7; border-radius: 5px; box-shadow: 2px 2px 2px 2px rgb(210,210,210); }\r\n    select:focus, .postDate:focus{outline:none;}\r\n    .postDate{ border: 1px solid #14c1c7; border-radius: 5px; box-shadow: 2px 2px 2px 2px rgb(210,210,210); }\r\n    .postContent{ width:45%; }\r\n    .postContent a{ text-decoration: none; color: black; }\r\n    .postContent a:hover{ font-size: 1.45rem; color: #14c1c7; font-weight: bolder; }\r\n    .postRegist{ width:20%; }\r\n    .postDateText{ width:20%; }\r\n    .postDec{ width:15%; }\r\n    table { text-align: center; width: 100%; margin-top: 10px; border-collapse: collapse; border: 2px solid #9b9b9b; font-size:1.4rem }\r\n    table th, table td { border: 1px solid #9b9b9b; height: 3.8rem; }\r\n    table th { background-color: rgb(248, 250, 252); }\r\n    .nonData { height: 10rem; color: #999; font-size: 1.4rem;  }\r\n`;\r\nconst Form = styled.div` background-color: rgb(248, 250, 252); height: 100%; position: fixed; width: 100%; overflow-y: auto;`;\r\nconst PostPage = () => {\r\n\r\n    const [listAxios, setAxios] = useState(0); // useEffect axios의 값 존재 여부 저장\r\n    let [post, setPost] = useState([]);\r\n    let [pageNum, setPageNum] = useState(1);\r\n    let [change, setChange] = useState(1);\r\n    let [search, setSearch] = useState('');\r\n    let [dateStart, setDateStart] = useState('');\r\n    let [dateEnd, setDateEnd] = useState('')\r\n\r\n    let pages = [];\r\n\r\n    const Pagination = (page) =>{ \r\n        setPageNum(page)\r\n        if(change == 1){ setChange(0) }else{ setChange(1) } } // useEffect 재실행을 위해 change값을 변경\r\n\r\n    const PaginationNum = (e) =>{\r\n        let pageNum = e.target.id\r\n        Pagination(pageNum)\r\n    }\r\n\r\n    const PaginationArr = (e) =>{\r\n        let pageArr = e.target.value\r\n        Pagination(pageArr)\r\n    }\r\n\r\n    const Start = (e)=>{\r\n        e.preventDefault()\r\n        const dateStart = e.target.value;\r\n        setDateStart(dateStart)\r\n    }\r\n\r\n    const End = (e)=>{\r\n        e.preventDefault()\r\n        const dateEnd = e.target.value;\r\n        setDateEnd(dateEnd)\r\n    }\r\n\r\n    const searchSelect = (e)=>{\r\n        e.preventDefault()\r\n        const searchSelect = e.target.value;\r\n        setSearch(searchSelect)\r\n    }\r\n    \r\n    const Search = () =>{\r\n        setPageNum(1)\r\n        if(change==1){setChange(0)}else{setChange(1)} // useEffect 재실행을 위해 change값을 변경\r\n    }\r\n\r\n    const Reset = () =>{\r\n        setSearch('')\r\n        setDateStart('')\r\n        setDateEnd('')\r\n        let e1 = document.getElementById('startDate');\r\n        let e2 = document.getElementById('endDate');\r\n        let e3 = document.getElementById('report');\r\n        e1.value = '';\r\n        e2.value = '';\r\n        e3.value = '전체';\r\n        Search()\r\n    }\r\n\r\n    useEffect(async () => {\r\n        const post = await axios.get(\"http://localhost:3001/admin/post?page=\" + pageNum + \"&report=\" + search + \"&date1=\" + dateStart + \"&date2=\" + dateEnd)\r\n        setPost(post.data)\r\n        let paginationClass = document.querySelectorAll('.paginationClass');\r\n        if(post.data.totalPage!==0){\r\n            for(let i=0; i<paginationClass.length; i++){\r\n                paginationClass[i].style.color = \"#888\";\r\n            }\r\n            let current = document.getElementById(pageNum);\r\n                current.style.color = \"#14c1c7\";\r\n        }\r\n        if(post.data.result.length !== 0){ setAxios(1) } // axios의 값 존재 여부 저장\r\n    }, [change]);\r\n\r\n    for(let i = post.startPage; i <= post.endPage; i++) { pages[i] = i }\r\n\r\n    return (\r\n        <Form>\r\n            <Header/>\r\n            <SideBar/>\r\n            <PostForm>\r\n                <div className=\"postListBox\">\r\n                <p className=\"title\">게시물관리</p>\r\n                    <div className=\"postSearchBox\">\r\n                        <p>구분</p>\r\n                        <select id=\"report\" onChange={searchSelect}>\r\n                            <option>전체</option>\r\n                            <option value=\"Y\">신고여부 : Y</option>\r\n                            <option value=\"N\">신고여부 : N</option>\r\n                        </select>\r\n                        <p>날짜</p>\r\n                        <input type=\"date\" className=\"postDate\" id=\"startDate\" onChange={Start}/>\r\n                        <p>~</p>\r\n                        <input type=\"date\" className=\"postDate\" id=\"endDate\" onChange={End}/>\r\n                        <input type=\"button\" className=\"searchBtn btn\" value=\"검색\" onClick={Search}/>\r\n                        <input type=\"button\" className=\"resetBtn btn\" value=\"초기화\" onClick={Reset}/>\r\n                    </div>\r\n                    <div>\r\n                        <table>\r\n                            <tr>\r\n                                <th className=\"postRegist\">작성자</th>\r\n                                <th className=\"postContent\">게시물 내용</th>\r\n                                <th className=\"postDateText\">게시물 생성 날짜</th>\r\n                                <th className=\"postDec\">게시물 신고 여부</th>\r\n                            </tr>\r\n                            { listAxios !== 0 ?\r\n                                post.result.length !== 0 ?\r\n                                    post.result.map(rowData => (\r\n                                        <tr>\r\n                                            <td className=\"postRegist\">{rowData.name}</td>\r\n                                            <td className=\"postContent\"><Link to={\"/admin/post/detail/\"+rowData.idx}>{rowData.content}</Link></td>\r\n                                            <td className=\"postDateText\">{rowData.createdAt}</td>\r\n                                            <td className=\"postDec\">{rowData.report}</td>\r\n                                        </tr>\r\n                                    )) : // rowData 가 없으면 나타냄\r\n                                    <tr className=\"nonData\"><td colSpan=\"4\">검색결과가 존재하지 않습니다</td></tr>\r\n                                : // post의 데이터가 없으면 나타냄\r\n                                <tr className=\"nonData\"><td colSpan=\"4\">작성된 게시물이 없습니다</td></tr>\r\n                            }\r\n                        </table>\r\n                    </div>\r\n                    <div className=\"pagination\">\r\n                        <ul>\r\n                        { post.startPage !== 1 ?\r\n                            <>\r\n                            <li onClick={PaginationArr} value=\"1\">《</li>\r\n                            <li onClick={PaginationArr} value={post.startPage-1}>〈</li>\r\n                            </>\r\n                            : <></> // startPage가 1이면 나타냄\r\n                        }\r\n                        { post.totalPage !== 0 ?\r\n                            pages.map(rowData => (\r\n                                post.startPage+5 > rowData ?\r\n                                <li onClick={PaginationNum} class=\"paginationClass\" id={rowData}>{rowData}</li>\r\n                                : <></>\r\n                            )) : <></> // pages가 없으면 나타냄\r\n                        }\r\n                        { post.endPage !== post.totalPage && post.endPage < post.totalPage ?\r\n                            <>\r\n                            <li onClick={PaginationArr} value={post.endPage+1}>〉</li>\r\n                            <li onClick={PaginationArr} value={post.totalPage}>》</li>\r\n                            </> : <></>\r\n                        }\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </PostForm>\r\n        </Form>\r\n    );\r\n}\r\n\r\nexport default PostPage;"]},"metadata":{},"sourceType":"module"}