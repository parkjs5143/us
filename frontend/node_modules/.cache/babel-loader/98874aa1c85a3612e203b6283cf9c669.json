{"ast":null,"code":"var _jsxFileName = \"C:\\\\project\\\\us\\\\frontend\\\\src\\\\user\\\\mypagePw.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, Component } from \"react\";\nimport Header from \"../UserComponents/header\";\nimport MainProfile from \"../UserComponents/mainProfile\"; // import MypageSideBar from \"../components/mypageSideBar\";\n\nimport styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MyPagePwWrap = styled.div`\n* { text-decoration:none; }\nul, li { list-style: none; padding:0; margin: 0;}\ninput, textarea, button { padding: 0; outline: 0; border: 0; resize: none; border-radius: 0; -webkit-appearance: none; background-color: rgba(0,0,0,0); }\n.container { max-width:100rem; margin: 0 auto;  }\n.navBar { float: left; width: 12rem; padding:5rem 3rem 3rem 2rem; }\n.menuLink { margin-bottom: 4rem; color: #555; cursor: pointer; font-size: 1.6rem; }\n.menuLink.on { font-weight: 600; color: #14c1c7; }\n.menuLink:hover { color:#14c1c7; font-weight: 600; }\n.content { padding: 5.5rem 3rem 5rem 10rem; overflow: hidden; border-left: 1px solid rgba(0,0,0,0.1); height: 77.5vh;}\n.profileItem { display: flex; position: relative; align-items: center; margin-bottom: 1.5rem; margin-left: 4.5rem; }\n.profileFirst { margin-left: -2rem; margin-bottom: 5rem; }\n.section1 { width: 11rem; position: relative; right:3rem; font-size: 1.4rem; text-align: left; font-weight: 600; margin-top: -2rem; }\n.section2 { width: 80%; height: 6.2rem; }\n.profileImg img { width: 6.5rem; border-radius: 50%; vertical-align:middle; border: 2px solid #999; margin-left: 6rem; }\n.profileName { font-size: 1.7rem; font-weight: bold; color: #444; margin-top: 1rem; margin-left: 0.5rem; }\n.section2 .red { font-size: 1.2rem; margin-top: 0.5rem; color: #fb3b3b; }\n.section2 input { border: 1px solid lightgray; background-color: #fff; border-radius: 5px; width: 90%; height: 4rem; color: black; font-size: 1.4rem; padding-left: 1rem; }\n.section2 p { font-size: 1.4rem;  margin: 0; margin-left:1rem; }\n.submitBtn { text-align: center; margin-top: 5rem; }\n.btn:disabled { background: #dfdfdf; }\n.btn { width: 12rem; height: 4rem; font-size: 1.5rem; background: #14c1c7; border-radius: 7px; color: #fff; cursor: pointer; box-shadow: 3px 3px 3px #d0d0d0; }\n`; // 버튼 활성화\n\n_c = MyPagePwWrap;\nlet passwordDisable = false;\nlet passwordDisable2 = false;\nlet passwordDisable3 = false;\n\nconst MyPagePw = () => {\n  _s();\n\n  // memberIdx 가져오기\n  const param = window.location.search.split('=')[1]; ///member/ComparePassword\n\n  const [name, setName] = React.useState('');\n  const [proImg, setProImg] = React.useState('');\n  const [password, setPassword] = useState('');\n  const [password2, setPassword2] = useState('');\n  const [password3, setPassword3] = useState(''); //오류메시지 저장\n\n  const [passwordMessage, setPasswordMessage] = useState(''); //유효성 검사\n\n  const [isPassword, setIsPassword] = useState(false);\n  const [disabled, setDisabled] = useState('disabled');\n  const [forDis, setForDis] = useState(\"none\");\n  const [forDis2, setForDis2] = useState(\"none\");\n  useEffect(() => {\n    axios.get(\"http://localhost:3001/member/edit\", {\n      params: {\n        'idx': param\n      }\n    }).then(function (result) {\n      console.log(result.data[0]);\n      setName(result.data[0].name);\n      setProImg(result.data[0].img);\n    }).catch(function (error) {});\n  }, []); //비밀번호 변경 제출\n\n  const send = async () => {\n    console.log(password3 + \"///////////////\" + password + \"///////////\" + param);\n    let log = await axios.post('http://localhost:3001/member/ComparePassword?userPw=' + password3 + \"&userPw2=\" + password + \"&idx=\" + param);\n    console.log(log);\n\n    if (log.data === false) {\n      alert('이전 비밀번호를 확인해주세요.');\n      window.location.reload();\n    } else {\n      console.log(\"통과\");\n      alert(\"비밀번호가 변경되었습니다\");\n      window.location.reload();\n    }\n  }; //전 비밀번호 \n\n\n  const passwordInput3 = e => {\n    e.preventDefault();\n    const regExp = /^(?=.*[a-zA-Z])(?=.*[!@#$%^*+=-])(?=.*[0-9]).{8,25}$/;\n    const password = e.target.value;\n    setPassword3(password);\n\n    if (!regExp.test(password)) {\n      passwordDisable3 = false;\n      changeDispaly('block');\n    } else {\n      passwordDisable3 = true;\n      changeDispaly('none');\n    }\n\n    idDisabled();\n  }; //새 비밀번호\n\n\n  const passwordInput = e => {\n    e.preventDefault();\n    const regExp = /^(?=.*[a-zA-Z])(?=.*[!@#$%^*+=-])(?=.*[0-9]).{8,25}$/;\n    const password = e.target.value;\n    setPassword(password);\n\n    if (!regExp.test(password)) {\n      setPasswordMessage('* 영문,숫자,특수문자 포함 8자 이상 입력해주세요.');\n      setIsPassword(false);\n      passwordDisable = false;\n    } else {\n      setPasswordMessage('');\n      setIsPassword(true);\n      passwordDisable = true;\n    }\n\n    idDisabled();\n  }; //새 비밀번호 확인 \n\n\n  const passwordInput2 = e => {\n    e.preventDefault();\n    const passwordC = e.target.value;\n    setPassword2(passwordC);\n    console.log(password2 + \"새 비밀번호 확인 / 새 비밀번호\" + password);\n\n    if (password === e.target.value) {\n      passwordDisable2 = true;\n      changeDispaly2('none');\n    } else {\n      changeDispaly2('block');\n      passwordDisable2 = false;\n    }\n\n    idDisabled();\n  };\n\n  const changeDispaly = display => {\n    setForDis(display);\n  };\n\n  const changeDispaly2 = display2 => {\n    setForDis2(display2);\n  };\n\n  const idDisabled = () => {\n    console.log(passwordDisable, passwordDisable2, passwordDisable3);\n\n    if (passwordDisable === true && passwordDisable2 === true && passwordDisable3 === true) {\n      setDisabled('');\n    } else {\n      setDisabled('disabled');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MyPagePwWrap, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"navBar\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/mypage?idx=\" + param,\n              children: /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"menuLink \",\n                children: \"\\uD504\\uB85C\\uD544 \\uD3B8\\uC9D1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 62\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/mypagePw?idx=\" + param,\n              children: /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"menuLink on\",\n                children: \"\\uBE44\\uBC00\\uBC88\\uD638 \\uBCC0\\uACBD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 64\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/mypageLogin?idx=\" + param,\n              children: /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"menuLink\",\n                children: \"\\uB85C\\uADF8\\uC778 \\uD65C\\uB3D9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 68\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/mypageQnA?idx=\" + param,\n              children: /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"menuLink\",\n                children: \"\\uBB38\\uC758\\uD558\\uAE30\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 66\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"profileList\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"profileItem profileFirst\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"profileImg section1\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: proImg == null || proImg == '' ? \"/img/blank_profile.png\" : \"/\" + proImg,\n                  alt: \"\\uD504\\uB85C\\uD544\\uC0AC\\uC9C4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"profileNameBox section2\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"profileName\",\n                  children: name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"profileItem\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"section1\",\n                children: \"\\uC774\\uC804 \\uBE44\\uBC00\\uBC88\\uD638\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"profileNameBox section2\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  name: \"currPw\",\n                  id: \"currPw\",\n                  placeholder: \"\\uC774\\uC804 \\uBE44\\uBC00\\uBC88\\uD638\",\n                  onChange: passwordInput3\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"red\",\n                  style: {\n                    display: forDis\n                  },\n                  children: \"* \\uC601\\uBB38,\\uC22B\\uC790,\\uD2B9\\uC218\\uBB38\\uC790 \\uD3EC\\uD568 8\\uC790 \\uC774\\uC0C1 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"profileItem\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"section1\",\n                children: \"\\uC0C8 \\uBE44\\uBC00\\uBC88\\uD638\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"profileNameBox section2\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  name: \"newPw\",\n                  id: \"newPw\",\n                  placeholder: \"\\uC0C8 \\uBE44\\uBC00\\uBC88\\uD638\",\n                  onChange: passwordInput\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"red\",\n                  children: password.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `message ${isPassword ? 'success' : 'error'}`,\n                    children: passwordMessage\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 80\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"profileItem\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"section1\",\n                children: \"\\uC0C8 \\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"profileNameBox section2\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  name: \"confirmNewPw\",\n                  id: \"confirmNewPw\",\n                  placeholder: \"\\uC0C8 \\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\",\n                  onChange: passwordInput2\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"red\",\n                  style: {\n                    display: forDis2\n                  },\n                  children: \"* \\uC0C8 \\uBE44\\uBC00\\uBC88\\uD638\\uAC00 \\uC77C\\uCE58\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"submitBtn\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: send,\n              className: \"btn\",\n              disabled: disabled,\n              children: \" \\uBCC0\\uACBD \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(MyPagePw, \"Tccxr6pYMcTgNb6r9CJbSgoqAO4=\");\n\n_c2 = MyPagePw;\nexport default MyPagePw;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MyPagePwWrap\");\n$RefreshReg$(_c2, \"MyPagePw\");","map":{"version":3,"sources":["C:/project/us/frontend/src/user/mypagePw.jsx"],"names":["React","useState","useEffect","Component","Header","MainProfile","styled","Link","axios","MyPagePwWrap","div","passwordDisable","passwordDisable2","passwordDisable3","MyPagePw","param","window","location","search","split","name","setName","proImg","setProImg","password","setPassword","password2","setPassword2","password3","setPassword3","passwordMessage","setPasswordMessage","isPassword","setIsPassword","disabled","setDisabled","forDis","setForDis","forDis2","setForDis2","get","params","then","result","console","log","data","img","catch","error","send","post","alert","reload","passwordInput3","e","preventDefault","regExp","target","value","test","changeDispaly","idDisabled","passwordInput","passwordInput2","passwordC","changeDispaly2","display","display2","length"],"mappings":"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","sourcesContent":["import React, { useState , useEffect ,Component } from \"react\";\r\nimport Header from \"../UserComponents/header\";\r\nimport MainProfile from \"../UserComponents/mainProfile\";\r\n// import MypageSideBar from \"../components/mypageSideBar\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nconst MyPagePwWrap = styled.div`\r\n* { text-decoration:none; }\r\nul, li { list-style: none; padding:0; margin: 0;}\r\ninput, textarea, button { padding: 0; outline: 0; border: 0; resize: none; border-radius: 0; -webkit-appearance: none; background-color: rgba(0,0,0,0); }\r\n.container { max-width:100rem; margin: 0 auto;  }\r\n.navBar { float: left; width: 12rem; padding:5rem 3rem 3rem 2rem; }\r\n.menuLink { margin-bottom: 4rem; color: #555; cursor: pointer; font-size: 1.6rem; }\r\n.menuLink.on { font-weight: 600; color: #14c1c7; }\r\n.menuLink:hover { color:#14c1c7; font-weight: 600; }\r\n.content { padding: 5.5rem 3rem 5rem 10rem; overflow: hidden; border-left: 1px solid rgba(0,0,0,0.1); height: 77.5vh;}\r\n.profileItem { display: flex; position: relative; align-items: center; margin-bottom: 1.5rem; margin-left: 4.5rem; }\r\n.profileFirst { margin-left: -2rem; margin-bottom: 5rem; }\r\n.section1 { width: 11rem; position: relative; right:3rem; font-size: 1.4rem; text-align: left; font-weight: 600; margin-top: -2rem; }\r\n.section2 { width: 80%; height: 6.2rem; }\r\n.profileImg img { width: 6.5rem; border-radius: 50%; vertical-align:middle; border: 2px solid #999; margin-left: 6rem; }\r\n.profileName { font-size: 1.7rem; font-weight: bold; color: #444; margin-top: 1rem; margin-left: 0.5rem; }\r\n.section2 .red { font-size: 1.2rem; margin-top: 0.5rem; color: #fb3b3b; }\r\n.section2 input { border: 1px solid lightgray; background-color: #fff; border-radius: 5px; width: 90%; height: 4rem; color: black; font-size: 1.4rem; padding-left: 1rem; }\r\n.section2 p { font-size: 1.4rem;  margin: 0; margin-left:1rem; }\r\n.submitBtn { text-align: center; margin-top: 5rem; }\r\n.btn:disabled { background: #dfdfdf; }\r\n.btn { width: 12rem; height: 4rem; font-size: 1.5rem; background: #14c1c7; border-radius: 7px; color: #fff; cursor: pointer; box-shadow: 3px 3px 3px #d0d0d0; }\r\n`;\r\n\r\n// 버튼 활성화\r\nlet passwordDisable = false;\r\nlet passwordDisable2 = false;\r\nlet passwordDisable3 = false;\r\n\r\nconst MyPagePw = () =>{\r\n    // memberIdx 가져오기\r\n    const param = window.location.search.split('=')[1];\r\n\r\n    ///member/ComparePassword\r\n    const [name , setName] = React.useState('')\r\n    const [proImg, setProImg] = React.useState('')\r\n\r\n    const [password, setPassword] = useState('');\r\n    const [password2, setPassword2] = useState('');\r\n    const [password3, setPassword3] = useState('');\r\n\r\n    //오류메시지 저장\r\n    const [passwordMessage, setPasswordMessage] = useState('');\r\n\r\n    //유효성 검사\r\n    const [isPassword, setIsPassword] = useState(false);\r\n    const [ disabled, setDisabled ] = useState('disabled');\r\n    const [forDis, setForDis] = useState(\"none\");\r\n    const [forDis2, setForDis2] = useState(\"none\");\r\n\r\n    useEffect(()=>{\r\n        axios.get(\"http://localhost:3001/member/edit\", {\r\n            params: {\r\n                'idx': param\r\n            }\r\n        })\r\n        .then(function (result) {\r\n            console.log(result.data[0]) \r\n            setName(result.data[0].name)\r\n            setProImg(result.data[0].img)\r\n        }).catch(function (error) {\r\n        });\r\n    },[])\r\n    \r\n    //비밀번호 변경 제출\r\n    const send = async () => {\r\n        console.log(password3+\"///////////////\"+password +\"///////////\"+ param)\r\n        let log = await axios.post('http://localhost:3001/member/ComparePassword?userPw='+password3+\"&userPw2=\"+password+\"&idx=\"+param)\r\n        console.log(log)\r\n        if(log.data === false){\r\n            alert('이전 비밀번호를 확인해주세요.')\r\n            window.location.reload();\r\n        } else{\r\n            console.log(\"통과\")\r\n            alert(\"비밀번호가 변경되었습니다\");\r\n            window.location.reload();\r\n        }\r\n    }\r\n\r\n    //전 비밀번호 \r\n    const passwordInput3 = (e) => {\r\n        e.preventDefault();\r\n        const regExp = /^(?=.*[a-zA-Z])(?=.*[!@#$%^*+=-])(?=.*[0-9]).{8,25}$/\r\n        const password = e.target.value;\r\n        setPassword3(password);\r\n        if (!regExp.test(password)) {\r\n            passwordDisable3 = false;\r\n            changeDispaly('block')\r\n        } else {\r\n            passwordDisable3 = true;\r\n            changeDispaly('none')\r\n        }\r\n        idDisabled()\r\n    }\r\n\r\n    //새 비밀번호\r\n    const passwordInput = (e) => {\r\n        e.preventDefault();\r\n        const regExp = /^(?=.*[a-zA-Z])(?=.*[!@#$%^*+=-])(?=.*[0-9]).{8,25}$/\r\n        const password = e.target.value;\r\n        setPassword(password);\r\n        if (!regExp.test(password)) {\r\n            setPasswordMessage('* 영문,숫자,특수문자 포함 8자 이상 입력해주세요.');\r\n            setIsPassword(false);\r\n            passwordDisable = false;\r\n        } else {\r\n            setPasswordMessage('');\r\n            setIsPassword(true);\r\n            passwordDisable = true;\r\n        }\r\n        idDisabled()\r\n    }\r\n\r\n    //새 비밀번호 확인 \r\n    const passwordInput2 = (e) => {\r\n        e.preventDefault();\r\n        const passwordC = e.target.value;\r\n        setPassword2(passwordC);\r\n        console.log(password2 +\"새 비밀번호 확인 / 새 비밀번호\"+ password)\r\n\r\n        if(password === e.target.value){\r\n            passwordDisable2 = true;\r\n            changeDispaly2('none');\r\n        }else{\r\n            changeDispaly2('block');\r\n            passwordDisable2 = false;\r\n        }\r\n        idDisabled()\r\n    }\r\n\r\n    const changeDispaly = (display) => {\r\n        setForDis(display)\r\n    }\r\n    const changeDispaly2 = (display2) => {\r\n        setForDis2(display2)\r\n    }\r\n\r\n    const idDisabled = () => {\r\n        console.log(passwordDisable,passwordDisable2,passwordDisable3);\r\n        if(passwordDisable === true && passwordDisable2 === true && passwordDisable3===true) {\r\n            setDisabled('');\r\n        }else{\r\n            setDisabled('disabled');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Header/>\r\n            <MyPagePwWrap>\r\n                <div className=\"container\">\r\n                    <div>\r\n                    <ul className=\"navBar\">\r\n                            <Link to={\"/mypage?idx=\"+ param}><li className=\"menuLink \">프로필 편집</li></Link>\r\n                            <Link to={\"/mypagePw?idx=\"+ param}><li className=\"menuLink on\">비밀번호 변경</li></Link>\r\n                            <Link to={\"/mypageLogin?idx=\" + param}><li className=\"menuLink\">로그인 활동</li></Link>\r\n                            <Link to={\"/mypageQnA?idx=\" + param}><li className=\"menuLink\">문의하기</li></Link>\r\n                        </ul>\r\n                        </div>\r\n                    <div className=\"content\">\r\n                        <ul className=\"profileList\">\r\n                            <li className=\"profileItem profileFirst\">\r\n                                <div className=\"profileImg section1\">\r\n                                    <img src={proImg==null||proImg==''? \"/img/blank_profile.png\": \"/\"+proImg} alt=\"프로필사진\"/>\r\n                                </div>\r\n                                <div className=\"profileNameBox section2\">\r\n                                    <div className=\"profileName\">{name}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li className=\"profileItem\">\r\n                                <div className=\"section1\">이전 비밀번호</div>\r\n                                <div className=\"profileNameBox section2\">\r\n                                    <input type=\"password\" name=\"currPw\" id=\"currPw\" placeholder=\"이전 비밀번호\" onChange={passwordInput3}/>\r\n                                    <p className=\"red\" style={{display:forDis}}>* 영문,숫자,특수문자 포함 8자 이상 입력해주세요.</p>\r\n                                </div>\r\n                            </li>\r\n                            <li className=\"profileItem\">\r\n                                <div className=\"section1\">새 비밀번호</div>\r\n                                <div className=\"profileNameBox section2\">\r\n                                    <input type=\"password\" name=\"newPw\" id=\"newPw\" placeholder=\"새 비밀번호\" onChange={passwordInput}/>\r\n                                    <p className=\"red\">{password.length > 0 && <span className={`message ${isPassword  ? 'success' : 'error'}`}>{passwordMessage}</span>}</p>\r\n                                </div>\r\n                            </li>\r\n                            <li className=\"profileItem\">\r\n                                <div className=\"section1\">새 비밀번호 확인</div>\r\n                                <div className=\"profileNameBox section2\">\r\n                                    <input type=\"password\" name=\"confirmNewPw\" id=\"confirmNewPw\" placeholder=\"새 비밀번호 확인\" onChange={passwordInput2}/>\r\n                                    <p className=\"red\" style={{display: forDis2}}>* 새 비밀번호가 일치하지 않습니다.</p>\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                        <div className=\"submitBtn\">\r\n                            <button type=\"button\" onClick={send} className=\"btn\" disabled={disabled}> 변경 </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </MyPagePwWrap>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default MyPagePw;"]},"metadata":{},"sourceType":"module"}