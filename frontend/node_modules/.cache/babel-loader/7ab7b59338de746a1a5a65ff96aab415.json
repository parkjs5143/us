{"ast":null,"code":"var _jsxFileName = \"C:\\\\project\\\\us\\\\frontend\\\\src\\\\admin\\\\memberChatPage.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Header from \"../AdminComponents/header\";\nimport SideBar from \"../AdminComponents/sidebar\";\nimport styled from \"styled-components\";\nimport { Link, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport '../../src/admin.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MemberChatForm = styled.div`\n    overflow-x: hidden;\n    margin-left: 24rem;\n    ul { list-style:none; display: flex; }\n    ul li { padding: 0.6rem; font-size: 1.8rem; background-color: none; color: #888; cursor: pointer; font-weight: bold; }\n    .title { border-radius: 10px; font-size: 1.5rem; font-weight: bold; color: #14c1c7; }\n    .memberChatListBox{ background-color: white; margin: 13rem auto 10rem; width: 112rem; border-radius: 20px; padding: 1.5rem 4rem; box-shadow: 5px 5px 5px 5px rgb(210, 210, 210); }\n    .memberChatSearchBox{ display: flex; font-size:1.5rem; margin-top: 2rem; width: 100%; justify-content: end; margin-bottom:2rem; }\n    .memberChatSearchBox p{ margin: 0 1rem; display: flex; align-items: center; }\n    .memberChatSearch{ width: 26rem; height: 2.9rem; padding-left: 1rem; background-color: white; border: 2px solid #14c1c7; border-radius: 5px; box-shadow: 3px 3px 3px rgb(210,210,210); caret-color: #14c1c7; }\n    .memberChatSearch:focus{ outline:none; border:2px solid lightgray; }\n    .btn{ padding: 0.4rem 1.2rem }\n    .searchBtn{ background-color: #14c1c7; border: 1px solid white; color: white; width: 7rem; height: 3.5rem; border-radius: 5px; box-shadow: 2px 2px 2px 2px rgb(210,210,210); margin-left: 1.5rem; font-size: 1.3rem; }\n    .resetBtn{ background-color: white; border: 1px solid #14c1c7; color: #14c1c7; width: 7rem; height: 3.5rem; border-radius: 5px; box-shadow: 2px 2px 2px 2px rgb(210,210,210); margin-left: 1rem; font-size: 1.3rem; }\n    .returnBtnBox{ text-align: center; }\n    .returnBtn{ text-align: center; font-size: 1.5rem; background-color: #14c1c7; border: 1px solid white; color: white; width: 7rem; height: 3.5rem; border-radius: 5px; box-shadow: 2px 2px 2px 2px rgb(210,210,210); font-size: 1.3rem; margin: 1rem 0 2.5rem; }\n    table a{ text-decoration: none; color: black; }\n    table { text-align: center; width: 100%; margin-top: 10px; border-collapse: collapse; border: 2px solid #9b9b9b; font-size:1.4rem }\n    table th, table td { border: 1px solid #9b9b9b; height: 3.8rem; }\n    table th { background-color: rgb(248, 250, 252); }\n    .memberChatNum{ width: 15%; }\n    .memberChatTitle{ width: 65%; }\n    .memberChatDate{ width: 20%; }\n    .chatTitle:hover{ font-size: 1.5rem; font-weight:bold; color: #14c1c7; }\n    .popTitle{ margin: 3.2rem 0 2.8rem; font-size:1.6rem; text-align: center; font-weight: bold; }\n    .chatContentBox{ height: 44.8rem; border: 1px solid lightgray; overflow-y: scroll; padding-bottom: 1.5rem; }\n    .chatBox{ display: flex; }\n    .chatImg{ width: 4rem; height: 4rem; border-radius: 50%; border: 1px solid lightgray; margin: 1rem 0.7rem 1rem 1rem; }\n    .chatText{ margin: 0; font-size:1.1rem; max-width: 24rem; overflow-wrap: anywhere; height: fit-content; max-height: 15rem; overflow-y: auto; margin-top: 0.5rem; padding: 0.7rem 1rem 0.8rem; border: 1px solid lightgray; border-radius: 10px; }\n    .chatName{ margin: 1.1rem 0 0; font-weight: bold; font-size: 1.1rem; }\n\n    // 멤버 팝업 css\n    .member-openBtn{ margin-top: 1.1rem; padding: 0.5rem 2rem 0.6rem; border: 1px solid #14c1c7; border-radius: 10px; background-color: #14c1c7; color: white; }\n    .member-closeBox, .member-openBox{ width: 100%; text-align: center; }\n    .member-pop{ position: absolute; z-index:1100; top: 58%; left: 130%; width: 27rem; height: 50.4rem; transform: translate(-50%, -50%); background: #fff; border-radius: 30px; }\n    .chatMemberBox{ height: 42rem; margin-top: 3rem; overflow-y:scroll }\n    .member-closeBtn{ margin-top: 1.1rem; padding: 0.3rem 2rem 0.4rem; border-radius: 10px; background-color: #14c1c7; border: 1px solid #14c1c7; color:white;  }\n    .memberBox{ width: calc(100% - 0.7rem); padding: 0.7rem 0 0.7rem 0.7rem; display:flex; align-items: center; }\n    .memberImg{ width: 4rem; height: 4rem; border-radius: 50%; border: 1px solid lightgray; }\n    .memberText{ margin: 0; padding-left:0.5rem; font-size: 1.1rem; }\n    .nonData { height: 10rem; color: #999; font-size: 1.4rem; }\n`;\n_c = MemberChatForm;\nconst Form = styled.div` background-color: rgb(248, 250, 252); height: 100%; position: fixed; width: 100%; overflow-y: auto;`;\n_c2 = Form;\n\nconst MemberChatPage = () => {\n  _s();\n\n  const id = useParams(); // 넘겨받은 id값\n\n  const [listAxios, setAxios] = useState(0); // list-useEffect axios의 값 존재 여부 저장\n\n  let [detailId, setId] = useState(null); // 팝업으로 띄울 room idx 값 저장 \n  // axios 저장 / list, chatModal\n\n  let [list, setList] = useState([]);\n  let [detail, setDetail] = useState({\n    chatDetail: [0],\n    chatMember: [1]\n  });\n  let [change, setChange] = useState(1);\n  let [search, setSearch] = useState('');\n  let [searchNo, setSearchNo] = useState('');\n  let [pageNum, setPageNum] = useState(1);\n  let pages = []; //채팅창, 멤버 팝업\n\n  const [chatOn, setChatOn] = useState(false);\n  const [memberOn, setMemberOn] = useState(false);\n\n  const onOpenChat = e => {\n    setChatOn(!chatOn);\n    let idx = e.target.id;\n    setId(idx); //채팅창 팝업 창 띄울 시 body 스크롤\n\n    if (chatOn == false) {\n      document.body.style.overflow = \"hidden\";\n    } else if (chatOn == true) {\n      document.body.style.overflow = \"unset\";\n      setMemberOn(false);\n    }\n  };\n\n  const onOpenMember = () => {\n    setMemberOn(!memberOn);\n  };\n\n  console.log(list); // 페이지네이션\n\n  const Pagination = page => {\n    setPageNum(page);\n\n    if (change == 1) {\n      setChange(0);\n    } else {\n      setChange(1);\n    }\n  }; // useEffect 재실행을 위해 change값을 변경\n\n\n  const PaginationNum = e => {\n    let pageNum = e.target.id;\n    Pagination(pageNum);\n  };\n\n  const PaginationArr = e => {\n    let pageArr = e.target.value;\n    Pagination(pageArr);\n  };\n\n  for (let i = list.startPage; i <= list.totalPage; i++) {\n    pages[i] = i;\n  } // 조건검색\n\n\n  const searchInput = e => {\n    e.preventDefault();\n    const searchInput = e.target.value;\n    setSearch(searchInput);\n  };\n\n  const Search = () => {\n    setPageNum(1);\n    setSearchNo(search);\n\n    if (change == 1) {\n      setChange(0);\n    } else {\n      setChange(1);\n    } // useEffect 재실행을 위해 change값을 변경\n\n  };\n\n  const Reset = () => {\n    setSearch('');\n    let e = document.querySelector('.memberChatSearch');\n    e.value = '';\n    Search();\n  };\n\n  useEffect(async () => {\n    // list-useEffect\n    const list = await axios.get(\"http://localhost:3001/admin/member/room?idx=\" + id.idx + \"&page=\" + pageNum + \"&title=\" + search);\n    setList(list.data);\n    let paginationClass = document.querySelectorAll('.paginationClass');\n\n    if (list.data.totalPage !== 0) {\n      for (let i = 0; i < paginationClass.length; i++) {\n        paginationClass[i].style.color = \"#888\";\n      }\n\n      let current = document.getElementById(pageNum);\n      current.style.color = \"#14c1c7\";\n    }\n\n    if (list.data.result.length !== 0) {\n      setAxios(1);\n    } // axios의 값 존재 여부 저장\n\n  }, [change]);\n  useEffect(async () => {\n    // modal-useEffect\n    const info = await axios.get(\"http://localhost:3001/admin/member/room/detail?roomIdx=\" + detailId);\n    setDetail({\n      chatDetail: info.data[0],\n      chatMember: info.data[1]\n    });\n  }, [chatOn]);\n  console.log(detail);\n\n  const Modal = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"mw_temp\",\n      className: \"mw\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fg\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"closeBtn\",\n          onClick: onOpenChat,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fas fa-times\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 68\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"popTitle\",\n          children: detail.chatDetail.length !== 0 ? detail.chatDetail[0].title : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"popBox\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chatContentBox\",\n            children: detail.chatDetail.length !== 0 ? detail.chatDetail.map(chatData => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chatBox\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"chatImg\",\n                src: chatData.img === null ? '/img/admin/noneImg.png' : '/' + chatData.img\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"chatName\",\n                  children: chatData.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"chatText\",\n                  children: chatData.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 37\n            }, this)) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"member-openBox\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"member-openBtn\",\n              onClick: onOpenMember,\n              children: \"\\uCC38\\uC5EC\\uBA64\\uBC84\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 57\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this), memberOn ? /*#__PURE__*/_jsxDEV(MemberModal, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 32\n        }, this) : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }, this);\n  };\n\n  const MemberModal = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"member-pop\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popBox\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chatMemberBox\",\n          children: detail.chatMember.length !== 0 ? detail.chatMember.map(memberData => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"memberBox\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"memberImg\",\n              src: memberData.img === null ? '/img/admin/noneImg.png' : '/' + memberData.img\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"memberText\",\n              children: memberData.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 33\n          }, this)) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"member-closeBox\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"member-closeBtn\",\n            onClick: onOpenMember,\n            children: \"\\uB2EB\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 54\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SideBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MemberChatForm, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"memberChatListBox\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"title\",\n          children: [\"\\uD68C\\uC6D0\\uAD00\\uB9AC \", /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fas fa-chevron-right\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 43\n          }, this), \" \\uCC44\\uD305\\uBC29\\uBAA9\\uB85D\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"memberChatSearchBox\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"memberChatSearch\",\n              placeholder: \"\\uCC44\\uD305\\uBC29 \\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",\n              onChange: searchInput\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"button\",\n              className: \"searchBtn btn\",\n              value: \"\\uAC80\\uC0C9\",\n              onClick: Search\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"button\",\n              className: \"resetBtn btn\",\n              value: \"\\uCD08\\uAE30\\uD654\",\n              onClick: Reset\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"memberChatNum\",\n                children: \"\\uCC44\\uD305\\uBC29 \\uBC88\\uD638\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"memberChatTitle\",\n                children: \"\\uCC44\\uD305\\uBC29 \\uC81C\\uBAA9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"memberChatDate\",\n                children: \"\\uC0DD\\uC131\\uB0A0\\uC9DC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 25\n            }, this), listAxios !== 0 ? list.result.length !== 0 ? list.result.map(rowData => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"memberChatNum\",\n                children: rowData.idx\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"memberChatTitle chatTitle\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: rowData.idx,\n                  onClick: onOpenChat,\n                  className: \"contentOverflow\",\n                  children: [\"[\", rowData.type, \"] \", rowData.title]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 83\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"memberChatDate\",\n                children: rowData.createdAt\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 37\n            }, this)) :\n            /*#__PURE__*/\n            // rowData 가 없으면 나타냄\n            _jsxDEV(\"tr\", {\n              className: \"nonData\",\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"3\",\n                children: [\"' \", searchNo, \" ' \\uC5D0 \\uB300\\uD55C \\uAC80\\uC0C9\\uACB0\\uACFC\\uAC00 \\uC874\\uC7AC\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 57\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 33\n            }, this) :\n            /*#__PURE__*/\n            // member의 post 데이터가 없으면 나타냄\n            _jsxDEV(\"tr\", {\n              className: \"nonData\",\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"3\",\n                children: \"\\uCC44\\uD305\\uCC3D\\uC774 \\uC874\\uC7AC\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 53\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pagination\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [list.startPage !== 1 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                onClick: PaginationArr,\n                value: \"1\",\n                children: \"\\u300A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                onClick: PaginationArr,\n                value: list.startPage - 1,\n                children: \"\\u3008\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) // startPage가 1이면 나타냄\n            , list.totalPage !== 0 ? pages.map(rowData => list.startPage + 5 > rowData ? /*#__PURE__*/_jsxDEV(\"li\", {\n              onClick: PaginationNum,\n              class: \"paginationClass\",\n              id: rowData,\n              children: rowData\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) // pages가 없으면 나타냄\n            , list.endPage !== list.totalPage && list.endPage < list.totalPage ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                onClick: PaginationArr,\n                value: list.endPage + 1,\n                children: \"\\u3009\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                onClick: PaginationArr,\n                value: list.totalPage,\n                children: \"\\u300B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"returnBtnBox\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/admin/member\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"returnBtn\",\n              children: \"\\uB4A4\\uB85C\\uAC00\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 47\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 13\n      }, this), chatOn ? /*#__PURE__*/_jsxDEV(Modal, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 22\n      }, this) : '']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 194,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MemberChatPage, \"PZuePWsdjlWyrdIsrbv9aLnLWfQ=\", false, function () {\n  return [useParams];\n});\n\n_c3 = MemberChatPage;\nexport default MemberChatPage;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"MemberChatForm\");\n$RefreshReg$(_c2, \"Form\");\n$RefreshReg$(_c3, \"MemberChatPage\");","map":{"version":3,"sources":["C:/project/us/frontend/src/admin/memberChatPage.jsx"],"names":["React","useState","useEffect","Header","SideBar","styled","Link","useParams","axios","MemberChatForm","div","Form","MemberChatPage","id","listAxios","setAxios","detailId","setId","list","setList","detail","setDetail","chatDetail","chatMember","change","setChange","search","setSearch","searchNo","setSearchNo","pageNum","setPageNum","pages","chatOn","setChatOn","memberOn","setMemberOn","onOpenChat","e","idx","target","document","body","style","overflow","onOpenMember","console","log","Pagination","page","PaginationNum","PaginationArr","pageArr","value","i","startPage","totalPage","searchInput","preventDefault","Search","Reset","querySelector","get","data","paginationClass","querySelectorAll","length","color","current","getElementById","result","info","Modal","title","map","chatData","img","name","content","MemberModal","memberData","rowData","type","createdAt","endPage"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Header from \"../AdminComponents/header\";\r\nimport SideBar from \"../AdminComponents/sidebar\";\r\nimport styled from \"styled-components\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport '../../src/admin.css';\r\n\r\nconst MemberChatForm = styled.div`\r\n    overflow-x: hidden;\r\n    margin-left: 24rem;\r\n    ul { list-style:none; display: flex; }\r\n    ul li { padding: 0.6rem; font-size: 1.8rem; background-color: none; color: #888; cursor: pointer; font-weight: bold; }\r\n    .title { border-radius: 10px; font-size: 1.5rem; font-weight: bold; color: #14c1c7; }\r\n    .memberChatListBox{ background-color: white; margin: 13rem auto 10rem; width: 112rem; border-radius: 20px; padding: 1.5rem 4rem; box-shadow: 5px 5px 5px 5px rgb(210, 210, 210); }\r\n    .memberChatSearchBox{ display: flex; font-size:1.5rem; margin-top: 2rem; width: 100%; justify-content: end; margin-bottom:2rem; }\r\n    .memberChatSearchBox p{ margin: 0 1rem; display: flex; align-items: center; }\r\n    .memberChatSearch{ width: 26rem; height: 2.9rem; padding-left: 1rem; background-color: white; border: 2px solid #14c1c7; border-radius: 5px; box-shadow: 3px 3px 3px rgb(210,210,210); caret-color: #14c1c7; }\r\n    .memberChatSearch:focus{ outline:none; border:2px solid lightgray; }\r\n    .btn{ padding: 0.4rem 1.2rem }\r\n    .searchBtn{ background-color: #14c1c7; border: 1px solid white; color: white; width: 7rem; height: 3.5rem; border-radius: 5px; box-shadow: 2px 2px 2px 2px rgb(210,210,210); margin-left: 1.5rem; font-size: 1.3rem; }\r\n    .resetBtn{ background-color: white; border: 1px solid #14c1c7; color: #14c1c7; width: 7rem; height: 3.5rem; border-radius: 5px; box-shadow: 2px 2px 2px 2px rgb(210,210,210); margin-left: 1rem; font-size: 1.3rem; }\r\n    .returnBtnBox{ text-align: center; }\r\n    .returnBtn{ text-align: center; font-size: 1.5rem; background-color: #14c1c7; border: 1px solid white; color: white; width: 7rem; height: 3.5rem; border-radius: 5px; box-shadow: 2px 2px 2px 2px rgb(210,210,210); font-size: 1.3rem; margin: 1rem 0 2.5rem; }\r\n    table a{ text-decoration: none; color: black; }\r\n    table { text-align: center; width: 100%; margin-top: 10px; border-collapse: collapse; border: 2px solid #9b9b9b; font-size:1.4rem }\r\n    table th, table td { border: 1px solid #9b9b9b; height: 3.8rem; }\r\n    table th { background-color: rgb(248, 250, 252); }\r\n    .memberChatNum{ width: 15%; }\r\n    .memberChatTitle{ width: 65%; }\r\n    .memberChatDate{ width: 20%; }\r\n    .chatTitle:hover{ font-size: 1.5rem; font-weight:bold; color: #14c1c7; }\r\n    .popTitle{ margin: 3.2rem 0 2.8rem; font-size:1.6rem; text-align: center; font-weight: bold; }\r\n    .chatContentBox{ height: 44.8rem; border: 1px solid lightgray; overflow-y: scroll; padding-bottom: 1.5rem; }\r\n    .chatBox{ display: flex; }\r\n    .chatImg{ width: 4rem; height: 4rem; border-radius: 50%; border: 1px solid lightgray; margin: 1rem 0.7rem 1rem 1rem; }\r\n    .chatText{ margin: 0; font-size:1.1rem; max-width: 24rem; overflow-wrap: anywhere; height: fit-content; max-height: 15rem; overflow-y: auto; margin-top: 0.5rem; padding: 0.7rem 1rem 0.8rem; border: 1px solid lightgray; border-radius: 10px; }\r\n    .chatName{ margin: 1.1rem 0 0; font-weight: bold; font-size: 1.1rem; }\r\n\r\n    // 멤버 팝업 css\r\n    .member-openBtn{ margin-top: 1.1rem; padding: 0.5rem 2rem 0.6rem; border: 1px solid #14c1c7; border-radius: 10px; background-color: #14c1c7; color: white; }\r\n    .member-closeBox, .member-openBox{ width: 100%; text-align: center; }\r\n    .member-pop{ position: absolute; z-index:1100; top: 58%; left: 130%; width: 27rem; height: 50.4rem; transform: translate(-50%, -50%); background: #fff; border-radius: 30px; }\r\n    .chatMemberBox{ height: 42rem; margin-top: 3rem; overflow-y:scroll }\r\n    .member-closeBtn{ margin-top: 1.1rem; padding: 0.3rem 2rem 0.4rem; border-radius: 10px; background-color: #14c1c7; border: 1px solid #14c1c7; color:white;  }\r\n    .memberBox{ width: calc(100% - 0.7rem); padding: 0.7rem 0 0.7rem 0.7rem; display:flex; align-items: center; }\r\n    .memberImg{ width: 4rem; height: 4rem; border-radius: 50%; border: 1px solid lightgray; }\r\n    .memberText{ margin: 0; padding-left:0.5rem; font-size: 1.1rem; }\r\n    .nonData { height: 10rem; color: #999; font-size: 1.4rem; }\r\n`;\r\nconst Form = styled.div` background-color: rgb(248, 250, 252); height: 100%; position: fixed; width: 100%; overflow-y: auto;`;\r\nconst MemberChatPage = () => {\r\n\r\n    const id = useParams(); // 넘겨받은 id값\r\n    const [listAxios, setAxios] = useState(0); // list-useEffect axios의 값 존재 여부 저장\r\n    let [detailId, setId] = useState(null); // 팝업으로 띄울 room idx 값 저장 \r\n\r\n    // axios 저장 / list, chatModal\r\n    let [list, setList] = useState([])\r\n    let [detail, setDetail] = useState({chatDetail:[0], chatMember:[1]})\r\n\r\n    let [change, setChange] = useState(1);\r\n    let [search, setSearch] = useState('')\r\n    let [searchNo, setSearchNo] = useState('')\r\n    let [pageNum, setPageNum] = useState(1);\r\n    let pages = [];\r\n\r\n    //채팅창, 멤버 팝업\r\n    const [chatOn, setChatOn] = useState(false); \r\n    const [memberOn, setMemberOn] = useState(false); \r\n\r\n    const onOpenChat = (e) => {\r\n        setChatOn(!chatOn);\r\n        let idx = e.target.id\r\n        setId(idx)\r\n        //채팅창 팝업 창 띄울 시 body 스크롤\r\n        if(chatOn==false){\r\n            document.body.style.overflow = \"hidden\";\r\n        }else if(chatOn==true){\r\n            document.body.style.overflow = \"unset\";\r\n            setMemberOn(false);\r\n        }\r\n    }\r\n\r\n    const onOpenMember = () => {\r\n        setMemberOn(!memberOn);\r\n    }\r\n\r\n    console.log(list)\r\n\r\n    // 페이지네이션\r\n    const Pagination = (page) =>{ \r\n        setPageNum(page)\r\n        if(change==1){setChange(0)}else{setChange(1)} } // useEffect 재실행을 위해 change값을 변경\r\n    const PaginationNum = (e) =>{\r\n        let pageNum = e.target.id\r\n        Pagination(pageNum)\r\n    }\r\n    const PaginationArr = (e) =>{\r\n        let pageArr = e.target.value\r\n        Pagination(pageArr)\r\n    }\r\n    for(let i=list.startPage; i<=list.totalPage;i++){pages[i]=i}\r\n\r\n    // 조건검색\r\n    const searchInput = (e)=>{\r\n        e.preventDefault()\r\n        const searchInput = e.target.value;\r\n        setSearch(searchInput)\r\n    }\r\n    const Search = () =>{\r\n        setPageNum(1)\r\n        setSearchNo(search)\r\n        if(change==1){setChange(0)}else{setChange(1)} // useEffect 재실행을 위해 change값을 변경\r\n    }\r\n    const Reset = () =>{\r\n        setSearch('')\r\n        let e = document.querySelector('.memberChatSearch')\r\n        e.value = '';\r\n        Search()\r\n    }\r\n\r\n    useEffect(async () => { // list-useEffect\r\n        const list = await axios.get(\"http://localhost:3001/admin/member/room?idx=\"+id.idx+\"&page=\"+pageNum+\"&title=\"+search)\r\n        setList(list.data)\r\n        let paginationClass = document.querySelectorAll('.paginationClass');\r\n        if(list.data.totalPage!==0){\r\n            for(let i=0; i<paginationClass.length; i++){\r\n                paginationClass[i].style.color = \"#888\";\r\n            }\r\n            let current = document.getElementById(pageNum);\r\n            current.style.color = \"#14c1c7\";\r\n        }\r\n        if(list.data.result.length !== 0){ setAxios(1) } // axios의 값 존재 여부 저장\r\n    }, [change]);\r\n\r\n    useEffect(async () => { // modal-useEffect\r\n        const info = await axios.get(\"http://localhost:3001/admin/member/room/detail?roomIdx=\"+detailId)\r\n        setDetail({chatDetail:info.data[0], chatMember:info.data[1]})\r\n    }, [chatOn]);\r\n\r\n    console.log(detail)\r\n\r\n    const Modal = () => {\r\n        return (\r\n            <div id=\"mw_temp\" className=\"mw\">\r\n                <div className=\"bg\"></div>\r\n                <div className=\"fg\">\r\n                    <div className=\"closeBtn\" onClick={onOpenChat}><i class=\"fas fa-times\"></i></div>\r\n                    <p className=\"popTitle\">{detail.chatDetail.length!==0 ? detail.chatDetail[0].title:<></>}</p>\r\n                    <div className=\"popBox\">\r\n                        <div className=\"chatContentBox\">\r\n                            {detail.chatDetail.length!==0 ?\r\n                                detail.chatDetail.map(chatData => (\r\n                                    <div className=\"chatBox\">\r\n                                        <img className=\"chatImg\" src={chatData.img===null?'/img/admin/noneImg.png':'/'+chatData.img}/>\r\n                                        <div>\r\n                                            <p className=\"chatName\">{chatData.name}</p>\r\n                                            <p className=\"chatText\">{chatData.content}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                )):<></>\r\n                            }\r\n                        </div>\r\n                        <div className=\"member-openBox\"><button className=\"member-openBtn\" onClick={onOpenMember}>참여멤버</button></div>\r\n                    </div>\r\n                    {memberOn? <MemberModal/>: ''}\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const MemberModal = () => {\r\n        return (\r\n            <div className=\"member-pop\">\r\n                <div className=\"popBox\">\r\n                    <div className=\"chatMemberBox\">\r\n                        {detail.chatMember.length!==0 ?\r\n                            detail.chatMember.map(memberData => (\r\n                                <div className=\"memberBox\">\r\n                                    <img className=\"memberImg\" src={memberData.img===null?'/img/admin/noneImg.png':'/'+memberData.img}/>\r\n                                    <p className=\"memberText\">{memberData.name}</p>\r\n                                </div>\r\n                            )):<></>\r\n                        }\r\n                    </div>\r\n                    <div className=\"member-closeBox\"><button className=\"member-closeBtn\" onClick={onOpenMember}>닫기</button></div>\r\n                </div>\r\n            </div>\r\n        );\r\n    } \r\n\r\n    return (\r\n        <Form>\r\n            <Header/>\r\n            <SideBar/>\r\n            <MemberChatForm>\r\n            <div className=\"memberChatListBox\">\r\n                <p className=\"title\">회원관리 <i class=\"fas fa-chevron-right\"></i> 채팅방목록</p>\r\n                <div className=\"memberChatSearchBox\">\r\n                        <p>\r\n                            <input type=\"text\" className=\"memberChatSearch\" placeholder=\"채팅방 제목을 입력하세요\" onChange={searchInput}/>\r\n                            <input type=\"button\" className=\"searchBtn btn\" value=\"검색\" onClick={Search}/>\r\n                            <input type=\"button\" className=\"resetBtn btn\" value=\"초기화\" onClick={Reset}/>\r\n                        </p>\r\n                </div>\r\n                <div>\r\n                    <table>\r\n                        <tr>\r\n                            <th className=\"memberChatNum\">채팅방 번호</th>\r\n                            <th className=\"memberChatTitle\">채팅방 제목</th>\r\n                            <th className=\"memberChatDate\">생성날짜</th>\r\n                        </tr>\r\n                        {listAxios !== 0 ?\r\n                            list.result.length !== 0 ?\r\n                                list.result.map(rowData => (\r\n                                    <tr>\r\n                                        <td className=\"memberChatNum\">{rowData.idx}</td>\r\n                                        <td className=\"memberChatTitle chatTitle\"><div  id={rowData.idx} onClick={onOpenChat} className=\"contentOverflow\">[{rowData.type}] {rowData.title}</div></td>\r\n                                        <td className=\"memberChatDate\">{rowData.createdAt}</td>\r\n                                    </tr>\r\n                                )) :\r\n                                // rowData 가 없으면 나타냄\r\n                                <tr className=\"nonData\"><td colSpan=\"3\">' {searchNo} ' 에 대한 검색결과가 존재하지 않습니다</td></tr>\r\n                            : \r\n                            // member의 post 데이터가 없으면 나타냄\r\n                            <tr className=\"nonData\"><td colSpan=\"3\">채팅창이 존재하지 않습니다</td></tr>\r\n                        }\r\n                    </table>\r\n                </div>\r\n                <div className=\"pagination\">\r\n                    <ul>\r\n                        { list.startPage !== 1 ?\r\n                            <>\r\n                            <li onClick={PaginationArr} value=\"1\">《</li>\r\n                            <li onClick={PaginationArr} value={list.startPage-1}>〈</li>\r\n                            </> : <></> // startPage가 1이면 나타냄\r\n                        }\r\n                        { list.totalPage !== 0 ?\r\n                            pages.map(rowData => (\r\n                                list.startPage+5 > rowData ?\r\n                                <li onClick={PaginationNum} class=\"paginationClass\" id={rowData}>{rowData}</li>\r\n                                : <></>\r\n                            )) : <></> // pages가 없으면 나타냄\r\n                        }\r\n                        { list.endPage !== list.totalPage && list.endPage < list.totalPage ?\r\n                            <>\r\n                            <li onClick={PaginationArr} value={list.endPage+1}>〉</li>\r\n                            <li onClick={PaginationArr} value={list.totalPage}>》</li>\r\n                            </> : <></>\r\n                        }\r\n                    </ul>\r\n                </div>\r\n                <div className=\"returnBtnBox\">\r\n                    <Link to= \"/admin/member\"><button className=\"returnBtn\">뒤로가기</button></Link>\r\n                </div>\r\n            </div>\r\n            {chatOn? <Modal/>: ''}\r\n            </MemberChatForm>\r\n        </Form>\r\n    );\r\n}\r\n\r\nexport default MemberChatPage;"]},"metadata":{},"sourceType":"module"}