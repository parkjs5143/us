{"ast":null,"code":"var _jsxFileName = \"C:\\\\project\\\\us\\\\frontend\\\\src\\\\admin\\\\postDetailPage.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Header from \"../AdminComponents/header\";\nimport SideBar from \"../AdminComponents/sidebar\";\nimport styled from \"styled-components\";\nimport { Link, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport '../../src/admin.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PostForm = styled.div`\n    overflow-x: hidden;\n    margin-left: 24rem;\n    .title { border-radius: 10px; font-size: 1.5rem; font-weight: bold; color: #14c1c7; }\n    .postListBox{ background-color: white; margin: 13rem auto 10rem; width: 112rem; border-radius: 20px; padding: 1.5rem 4rem; box-shadow: 5px 5px 5px 5px rgb(210, 210, 210); }\n    .postDetailBox{ display: flex; font-size:1.5rem; margin-top: 2rem; width: 100%; justify-content: space-between; }\n    .registDate{ display:flex; align-items: end; }\n    .registText{ margin: 0 }\n    .registMember{ margin-top: 0.5rem }\n    .textBold{ font-weight: bold; }\n    hr{ margin-top: 0; margin-bottom: 1rem; }\n    .postDetailInfoBox{ width:100%; display:flex; justify-content: space-between; }\n    .postImgBox{ width: calc(49.7% - 2px); border:1px solid #979797; height: 50rem; }\n    .postImg{ width:100%; height:100%; }\n    .postImgBtn{ display:flex; justify-content: space-between; position: relative; bottom: 30rem; } \n    .postBox{ width: calc(49.7% - 2px); height: 50rem; }\n    .postTextBox{ height: calc(49.7% - 2px); border:1px solid #979797; overflow-y: scroll; }\n    .firstBox{ margin-bottom: 0.9% }\n    .postDetail_text, .postDetail_re{ padding: 1rem; overflow-wrap: anywhere; font-size: 1.4rem; }\n    .postDetail_re p { margin:0.5rem 0; }\n    .postDetail_re p span{ margin-left: 1.5rem; font-size: 1rem; font-weight: bolder; }\n    input[type=\"button\"] { background-color: #14c1c7; border: 1px solid white; color: white; width: 9rem; height: 3.5rem; border-radius: 5px; box-shadow: 2px 2px 2px 2px rgb(210,210,210);  margin-left: 2rem; font-size: 1.3rem; cursor: pointer; }\n    .button-box { text-align: center; margin-top: 3rem; }\n    .reply { padding-bottom: 1rem; padding-left: 1rem;  }\n    .nonReply { font-weight: bold; color: #777; }\n`;\n_c = PostForm;\nconst Form = styled.div` background-color: rgb(248, 250, 252); height: 100%; position: fixed; width: 100%; overflow-y: auto;`;\n_c2 = Form;\nlet img = 0;\n\nconst PostDetailPage = () => {\n  _s();\n\n  const id = useParams(); // 넘겨받은 id값\n\n  const [detail, setDetail] = useState({\n    postInfo: [0],\n    postImg: [0],\n    postReply: [0]\n  });\n  let [detailImg, setDetailImg] = useState(0); // scrollImg-useEffect 재실행을 위한 값 변경 저장\n\n  let [scrollImg, setScrollImg] = useState(''); // imgName 저장\n\n  useEffect(async () => {\n    const postDetail = await axios.get(\"http://localhost:3001/admin/post/detail?postIdx=\" + id.idx);\n    setDetail({\n      postInfo: postDetail.data[0][0],\n      postImg: postDetail.data[1],\n      postReply: postDetail.data[2]\n    });\n\n    if (detailImg === 0) {\n      setDetailImg(1);\n    } else {\n      setDetailImg(0);\n    } // scrollImg-useEffect 재실행을 위해 detailImg 값 변경\n\n  }, []);\n  useEffect(async () => {\n    // scrollImg-useEffect\n    if (detail.postImg.length !== 0) {\n      setScrollImg(detail.postImg[0].imgName);\n    }\n  }, [detailImg]); // 이미지 버튼\n\n  const next = () => {\n    img = detail.postImg.length - 1 === img ? img : img + 1;\n    setScrollImg(detail.postImg[img].imgName);\n  };\n\n  const prev = () => {\n    img = img === 0 ? 0 : img - 1;\n    setScrollImg(detail.postImg[img].imgName);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SideBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PostForm, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"postListBox\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"title\",\n          children: [\"\\uAC8C\\uC2DC\\uBB3C\\uAD00\\uB9AC \", /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fas fa-chevron-right\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 44\n          }, this), \" \\uC0C1\\uC138\\uD398\\uC774\\uC9C0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"postDetailBox\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"registInfo\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"registText textBold\",\n              children: \"\\uC791\\uC131\\uC790\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"registMember\",\n              children: [detail.postInfo.name, \" / \", detail.postInfo.email]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"registDate\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"textBold\",\n                children: \"\\uAC8C\\uC2DC\\uB0A0\\uC9DC | \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 36\n              }, this), \" \", detail.postInfo.createdAt]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"postDetailInfoBox\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"postImgBox\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"postImg\",\n              src: \"/uploads/\" + scrollImg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"postImgBtn\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                style: img === 0 ? {\n                  opacity: '0'\n                } : {\n                  opacity: '1'\n                },\n                onClick: prev,\n                src: \"/img/admin/insta-left-circle.svg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 57\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                style: img === detail.postImg.length - 1 ? {\n                  opacity: '0'\n                } : {\n                  opacity: '1'\n                },\n                onClick: next,\n                src: \"/img/admin/insta-right-circle.svg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 163\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"postBox\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"postTextBox firstBox\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"postDetail_text\",\n                children: detail.postInfo.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"postTextBox\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"postDetail_re\",\n                children: detail.postReply.length !== 0 ? detail.postReply.map(rowData => /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"reply\",\n                  children: [rowData.content, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: rowData.createdAt\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 88\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 49\n                }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"reply nonReply\",\n                  children: \"\\uB4F1\\uB85D\\uB41C \\uB313\\uAE00\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"button-box\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/admin/post\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"button\",\n              value: \"\\uBAA9\\uB85D\\uC73C\\uB85C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 48\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n};\n\n_s(PostDetailPage, \"z7ZN1b9bMcUE0ag1KCKDUbHeBLs=\", false, function () {\n  return [useParams];\n});\n\n_c3 = PostDetailPage;\nexport default PostDetailPage;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"PostForm\");\n$RefreshReg$(_c2, \"Form\");\n$RefreshReg$(_c3, \"PostDetailPage\");","map":{"version":3,"sources":["C:/project/us/frontend/src/admin/postDetailPage.jsx"],"names":["React","useEffect","useState","Header","SideBar","styled","Link","useParams","axios","PostForm","div","Form","img","PostDetailPage","id","detail","setDetail","postInfo","postImg","postReply","detailImg","setDetailImg","scrollImg","setScrollImg","postDetail","get","idx","data","length","imgName","next","prev","name","email","createdAt","opacity","content","map","rowData"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Header from \"../AdminComponents/header\";\r\nimport SideBar from \"../AdminComponents/sidebar\";\r\nimport styled from \"styled-components\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport '../../src/admin.css';\r\n\r\nconst PostForm = styled.div`\r\n    overflow-x: hidden;\r\n    margin-left: 24rem;\r\n    .title { border-radius: 10px; font-size: 1.5rem; font-weight: bold; color: #14c1c7; }\r\n    .postListBox{ background-color: white; margin: 13rem auto 10rem; width: 112rem; border-radius: 20px; padding: 1.5rem 4rem; box-shadow: 5px 5px 5px 5px rgb(210, 210, 210); }\r\n    .postDetailBox{ display: flex; font-size:1.5rem; margin-top: 2rem; width: 100%; justify-content: space-between; }\r\n    .registDate{ display:flex; align-items: end; }\r\n    .registText{ margin: 0 }\r\n    .registMember{ margin-top: 0.5rem }\r\n    .textBold{ font-weight: bold; }\r\n    hr{ margin-top: 0; margin-bottom: 1rem; }\r\n    .postDetailInfoBox{ width:100%; display:flex; justify-content: space-between; }\r\n    .postImgBox{ width: calc(49.7% - 2px); border:1px solid #979797; height: 50rem; }\r\n    .postImg{ width:100%; height:100%; }\r\n    .postImgBtn{ display:flex; justify-content: space-between; position: relative; bottom: 30rem; } \r\n    .postBox{ width: calc(49.7% - 2px); height: 50rem; }\r\n    .postTextBox{ height: calc(49.7% - 2px); border:1px solid #979797; overflow-y: scroll; }\r\n    .firstBox{ margin-bottom: 0.9% }\r\n    .postDetail_text, .postDetail_re{ padding: 1rem; overflow-wrap: anywhere; font-size: 1.4rem; }\r\n    .postDetail_re p { margin:0.5rem 0; }\r\n    .postDetail_re p span{ margin-left: 1.5rem; font-size: 1rem; font-weight: bolder; }\r\n    input[type=\"button\"] { background-color: #14c1c7; border: 1px solid white; color: white; width: 9rem; height: 3.5rem; border-radius: 5px; box-shadow: 2px 2px 2px 2px rgb(210,210,210);  margin-left: 2rem; font-size: 1.3rem; cursor: pointer; }\r\n    .button-box { text-align: center; margin-top: 3rem; }\r\n    .reply { padding-bottom: 1rem; padding-left: 1rem;  }\r\n    .nonReply { font-weight: bold; color: #777; }\r\n`;\r\nconst Form = styled.div` background-color: rgb(248, 250, 252); height: 100%; position: fixed; width: 100%; overflow-y: auto;`;\r\nlet img = 0;\r\n\r\nconst PostDetailPage = () => {\r\n\r\n    const id = useParams();  // 넘겨받은 id값\r\n\r\n    const [detail, setDetail] = useState({postInfo:[0], postImg:[0], postReply:[0]});\r\n    let [detailImg, setDetailImg] = useState(0) // scrollImg-useEffect 재실행을 위한 값 변경 저장\r\n    let [scrollImg, setScrollImg ] = useState(''); // imgName 저장\r\n    \r\n\r\n    useEffect(async () => {\r\n        const postDetail = await axios.get(\"http://localhost:3001/admin/post/detail?postIdx=\" + id.idx)\r\n        setDetail({postInfo:postDetail.data[0][0], postImg:postDetail.data[1], postReply:postDetail.data[2]})\r\n        if(detailImg===0){setDetailImg(1)}else{setDetailImg(0)} // scrollImg-useEffect 재실행을 위해 detailImg 값 변경\r\n    }, []);\r\n\r\n    useEffect(async () => { // scrollImg-useEffect\r\n        if(detail.postImg.length!==0){setScrollImg(detail.postImg[0].imgName)}\r\n    }, [detailImg]);\r\n\r\n    // 이미지 버튼\r\n    const next = () => {\r\n        img = detail.postImg.length-1 === img ? img : img+1;\r\n        setScrollImg(detail.postImg[img].imgName)\r\n    }\r\n    const prev = () => {\r\n        img = img === 0 ? 0 : img-1;\r\n        setScrollImg(detail.postImg[img].imgName)\r\n    }\r\n\r\n    return (\r\n        <Form>\r\n            <Header/>\r\n            <SideBar/>\r\n            <PostForm>\r\n                <div className=\"postListBox\">\r\n                <p className=\"title\">게시물관리 <i class=\"fas fa-chevron-right\"></i> 상세페이지</p>\r\n                    {\r\n                        <div className=\"postDetailBox\">\r\n                            <div className=\"registInfo\">\r\n                                <p className=\"registText textBold\">작성자</p>\r\n                                <p className=\"registMember\">{detail.postInfo.name} / {detail.postInfo.email}</p>\r\n                            </div>\r\n                            <div className=\"registDate\">\r\n                                <p><span className=\"textBold\">게시날짜 | </span> {detail.postInfo.createdAt}</p>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    <hr/>\r\n                    <div className=\"postDetailInfoBox\">\r\n                        <div className=\"postImgBox\">\r\n                            <img className=\"postImg\" src={\"/uploads/\"+scrollImg}/>\r\n                            <div className=\"postImgBtn\"><img style={img===0?{opacity: '0'}:{opacity: '1'}} onClick={prev} src=\"/img/admin/insta-left-circle.svg\"/><img style={img===detail.postImg.length-1?{opacity: '0'}:{opacity: '1'}} onClick={next} src=\"/img/admin/insta-right-circle.svg\"/></div>\r\n                            <div></div>\r\n                        </div>\r\n                        <div className=\"postBox\">\r\n                            <div className=\"postTextBox firstBox\">\r\n                                {\r\n                                    <div className=\"postDetail_text\">\r\n                                        {detail.postInfo.content}\r\n                                    </div>\r\n                                }\r\n                            </div>\r\n                            <div className=\"postTextBox\">\r\n                                <div className=\"postDetail_re\">\r\n                                    {\r\n                                        detail.postReply.length !== 0 ?\r\n                                            detail.postReply.map(rowData => (\r\n                                                <p className=\"reply\">{rowData.content} <span>{rowData.createdAt}</span></p>\r\n                                        )):\r\n                                            <p className=\"reply nonReply\">등록된 댓글이 없습니다</p>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <p className=\"button-box\">\r\n                        <Link to=\"/admin/post\"><input type=\"button\" value=\"목록으로\"/></Link>\r\n                    </p>\r\n                </div>\r\n            </PostForm>\r\n        </Form>\r\n    );\r\n}\r\n\r\nexport default PostDetailPage;"]},"metadata":{},"sourceType":"module"}